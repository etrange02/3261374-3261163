<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_05) on Mon Jun 03 00:28:13 JST 2013 -->
<title>ProxyFactory (Javassist API)</title>
<meta name="date" content="2013-06-03">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ProxyFactory (Javassist API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ProxyFactory.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../javassist/util/proxy/Proxy.html" title="interface in javassist.util.proxy"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../javassist/util/proxy/ProxyFactory.ClassLoaderProvider.html" title="interface in javassist.util.proxy"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?javassist/util/proxy/ProxyFactory.html" target="_top">Frames</a></li>
<li><a href="ProxyFactory.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">javassist.util.proxy</div>
<h2 title="Class ProxyFactory" class="title">Class ProxyFactory</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>javassist.util.proxy.ProxyFactory</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">ProxyFactory</span>
extends java.lang.Object</pre>
<div class="block">Factory of dynamic proxy classes.

 <p>This factory generates a class that extends the given super class and implements
 the given interfaces.  The calls of the methods inherited from the super class are
 forwarded and then <code>invoke()</code> is called on the method handler
 associated with instances of the generated class.  The calls of the methods from
 the interfaces are also forwarded to the method handler.

 <p>For example, if the following code is executed,
 
 <ul><pre>
 ProxyFactory f = new ProxyFactory();
 f.setSuperclass(Foo.class);
 f.setFilter(new MethodFilter() {
     public boolean isHandled(Method m) {
         // ignore finalize()
         return !m.getName().equals("finalize");
     }
 });
 Class c = f.createClass();
 MethodHandler mi = new MethodHandler() {
     public Object invoke(Object self, Method m, Method proceed,
                          Object[] args) throws Throwable {
         System.out.println("Name: " + m.getName());
         return proceed.invoke(self, args);  // execute the original method.
     }
 };
 Foo foo = (Foo)c.newInstance();
 ((Proxy)foo).setHandler(mi);
 </pre></ul>

 <p>Here, <code>Method</code> is <code>java.lang.reflect.Method</code>.</p>

 <p>Then, the following method call will be forwarded to MethodHandler
 <code>mi</code> and prints a message before executing the originally called method
 <code>bar()</code> in <code>Foo</code>.

 <ul><pre>
 foo.bar();
 </pre></ul>

 <p>The last three lines of the code shown above can be replaced with a call to
 the helper method <code>create</code>, which generates a proxy class, instantiates
 it, and sets the method handler of the instance:

 <ul><pre>
     :
 Foo foo = (Foo)f.create(new Class[0], new Object[0], mi);
 </pre></ul>

 <p>To change the method handler during runtime,
 execute the following code:

 <ul><pre>
 MethodHandler mi = ... ;    // alternative handler
 ((Proxy)foo).setHandler(mi);
 </pre></ul>

 <p> If setHandler is never called for a proxy instance then it will
 employ the default handler which proceeds by invoking the original method.
 The behaviour of the default handler is identical to the following
 handler:

 <ul><pre>
 class EmptyHandler implements MethodHandler {
     public Object invoke(Object self, Method m,
                          Method proceed, Object[] args) throws Exception {
         return proceed.invoke(self, args);
     }
 }
 </pre></ul>

 <p>A proxy factory caches and reuses proxy classes by default. It is possible to reset
 this default globally by setting static field <a href="../../../javassist/util/proxy/ProxyFactory.html#useCache"><code>useCache</code></a> to false.
 Caching may also be configured for a specific factory by calling instance method
 <a href="../../../javassist/util/proxy/ProxyFactory.html#setUseCache(boolean)"><code>setUseCache(boolean)</code></a>. It is strongly recommended that new clients
 of class ProxyFactory enable caching. Failure to do so may lead to exhaustion of
 the heap memory area used to store classes.

 <p>Caching is automatically disabled for any given proxy factory if deprecated instance
 method <a href="../../../javassist/util/proxy/ProxyFactory.html#setHandler(javassist.util.proxy.MethodHandler)"><code>setHandler(MethodHandler)</code></a> is called. This method was
 used to specify a default handler which newly created proxy classes should install
 when they create their instances. It is only retained to provide backward compatibility
 with previous releases of javassist. Unfortunately,this legacy behaviour makes caching
 and reuse of proxy classes impossible. The current programming model expects javassist
 clients to set the handler of a proxy instance explicitly by calling method
 <a href="../../../javassist/util/proxy/Proxy.html#setHandler(javassist.util.proxy.MethodHandler)"><code>Proxy.setHandler(MethodHandler)</code></a> as shown in the sample code above. New
 clients are strongly recommended to use this model rather than calling
 <a href="../../../javassist/util/proxy/ProxyFactory.html#setHandler(javassist.util.proxy.MethodHandler)"><code>setHandler(MethodHandler)</code></a>.

 <p>A proxy object generated by <code>ProxyFactory</code> is serializable
 if its super class or any of its interfaces implement <code>java.io.Serializable</code>.
 However, a serialized proxy object may not be compatible with future releases.
 The serialization support should be used for short-term storage or RMI.

 <p>For compatibility with older releases serialization of proxy objects is implemented by
 adding a writeReplace method to the proxy class. This allows a proxy to be serialized
 to a conventional <code>ObjectOutputStream</code> and deserialized from a corresponding
 <code>ObjectInputStream</code>. However this method suffers from several problems, the most
 notable one being that it fails to serialize state inherited from the proxy's superclass.
 <p>
 An alternative method of serializing proxy objects is available which fixes these problems. It
 requires inhibiting generation of the writeReplace method and instead using instances of
 <a href="../../../javassist/util/proxy/ProxyObjectOutputStream.html" title="class in javassist.util.proxy"><code>ProxyObjectOutputStream</code></a> and <a href="../../../javassist/util/proxy/ProxyObjectInputStream.html" title="class in javassist.util.proxy"><code>ProxyObjectInputStream</code></a>
 (which are subclasses of <code>ObjectOutputStream</code> and  <code>ObjectInputStream</code>)
 to serialize and deserialize, respectively, the proxy. These streams recognise javassist proxies and ensure
 that they are serialized and deserialized without the need for the proxy class to implement special methods
 such as writeReplace. Generation of the writeReplace method can be disabled globally by setting static field
 <a href="../../../javassist/util/proxy/ProxyFactory.html#useWriteReplace"><code>useWriteReplace</code></a> to false. Alternatively, it may be
 configured per factory by calling instance method <a href="../../../javassist/util/proxy/ProxyFactory.html#setUseWriteReplace(boolean)"><code>setUseWriteReplace(boolean)</code></a>.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>3.1</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Muga Nishizawa, Shigeru Chiba, Andrew Dinn</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../javassist/util/proxy/MethodHandler.html" title="interface in javassist.util.proxy"><code>MethodHandler</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../javassist/util/proxy/ProxyFactory.ClassLoaderProvider.html" title="interface in javassist.util.proxy">ProxyFactory.ClassLoaderProvider</a></strong></code>
<div class="block">A provider of class loaders.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../javassist/util/proxy/ProxyFactory.UniqueName.html" title="interface in javassist.util.proxy">ProxyFactory.UniqueName</a></strong></code>
<div class="block">A unique class name generator.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../javassist/util/proxy/ProxyFactory.ClassLoaderProvider.html" title="interface in javassist.util.proxy">ProxyFactory.ClassLoaderProvider</a></code></td>
<td class="colLast"><code><strong><a href="../../../javassist/util/proxy/ProxyFactory.html#classLoaderProvider">classLoaderProvider</a></strong></code>
<div class="block">A provider used by <code>createClass()</code> for obtaining
 a class loader.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../javassist/util/proxy/ProxyFactory.UniqueName.html" title="interface in javassist.util.proxy">ProxyFactory.UniqueName</a></code></td>
<td class="colLast"><code><strong><a href="../../../javassist/util/proxy/ProxyFactory.html#nameGenerator">nameGenerator</a></strong></code>
<div class="block">A unique class name generator.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../javassist/util/proxy/ProxyFactory.html#useCache">useCache</a></strong></code>
<div class="block">If true, a generated proxy class is cached and it will be reused
 when generating the proxy class with the same properties is requested.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../javassist/util/proxy/ProxyFactory.html#useWriteReplace">useWriteReplace</a></strong></code>
<div class="block">If true, a generated proxy class will implement method writeReplace enabling
 serialization of its proxies to a conventional ObjectOutputStream.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../javassist/util/proxy/ProxyFactory.html#writeDirectory">writeDirectory</a></strong></code>
<div class="block">If the value of this variable is not null, the class file of
 the generated proxy class is written under the directory specified
 by this variable.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../javassist/util/proxy/ProxyFactory.html#ProxyFactory()">ProxyFactory</a></strong>()</code>
<div class="block">Constructs a factory of proxy class.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../../javassist/util/proxy/ProxyFactory.html#create(java.lang.Class[], java.lang.Object[])">create</a></strong>(java.lang.Class[]&nbsp;paramTypes,
      java.lang.Object[]&nbsp;args)</code>
<div class="block">Creates a proxy class and returns an instance of that class.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../../javassist/util/proxy/ProxyFactory.html#create(java.lang.Class[], java.lang.Object[], javassist.util.proxy.MethodHandler)">create</a></strong>(java.lang.Class[]&nbsp;paramTypes,
      java.lang.Object[]&nbsp;args,
      <a href="../../../javassist/util/proxy/MethodHandler.html" title="interface in javassist.util.proxy">MethodHandler</a>&nbsp;mh)</code>
<div class="block">Creates a proxy class and returns an instance of that class.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.Class</code></td>
<td class="colLast"><code><strong><a href="../../../javassist/util/proxy/ProxyFactory.html#createClass()">createClass</a></strong>()</code>
<div class="block">Generates a proxy class using the current filter.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.Class</code></td>
<td class="colLast"><code><strong><a href="../../../javassist/util/proxy/ProxyFactory.html#createClass(javassist.util.proxy.MethodFilter)">createClass</a></strong>(<a href="../../../javassist/util/proxy/MethodFilter.html" title="interface in javassist.util.proxy">MethodFilter</a>&nbsp;filter)</code>
<div class="block">Generates a proxy class using the supplied filter.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../javassist/util/proxy/MethodHandler.html" title="interface in javassist.util.proxy">MethodHandler</a></code></td>
<td class="colLast"><code><strong><a href="../../../javassist/util/proxy/ProxyFactory.html#getHandler(javassist.util.proxy.Proxy)">getHandler</a></strong>(<a href="../../../javassist/util/proxy/Proxy.html" title="interface in javassist.util.proxy">Proxy</a>&nbsp;p)</code>
<div class="block">Obtains the method handler of the given proxy object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.Class[]</code></td>
<td class="colLast"><code><strong><a href="../../../javassist/util/proxy/ProxyFactory.html#getInterfaces()">getInterfaces</a></strong>()</code>
<div class="block">Obtains the interfaces set by <code>setInterfaces</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../javassist/util/proxy/ProxyFactory.html#getKey(java.lang.Class, java.lang.Class[], byte[], boolean)">getKey</a></strong>(java.lang.Class&nbsp;superClass,
      java.lang.Class[]&nbsp;interfaces,
      byte[]&nbsp;signature,
      boolean&nbsp;useWriteReplace)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.Class</code></td>
<td class="colLast"><code><strong><a href="../../../javassist/util/proxy/ProxyFactory.html#getSuperclass()">getSuperclass</a></strong>()</code>
<div class="block">Obtains the super class set by <code>setSuperclass()</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../javassist/util/proxy/ProxyFactory.html#isProxyClass(java.lang.Class)">isProxyClass</a></strong>(java.lang.Class&nbsp;cl)</code>
<div class="block">determine if a class is a javassist proxy class</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../javassist/util/proxy/ProxyFactory.html#isUseCache()">isUseCache</a></strong>()</code>
<div class="block">test whether this factory uses the proxy cache</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../javassist/util/proxy/ProxyFactory.html#isUseWriteReplace()">isUseWriteReplace</a></strong>()</code>
<div class="block">test whether this factory installs a writeReplace method in created classes</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javassist/util/proxy/ProxyFactory.html#setFilter(javassist.util.proxy.MethodFilter)">setFilter</a></strong>(<a href="../../../javassist/util/proxy/MethodFilter.html" title="interface in javassist.util.proxy">MethodFilter</a>&nbsp;mf)</code>
<div class="block">Sets a filter that selects the methods that will be controlled by a handler.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javassist/util/proxy/ProxyFactory.html#setHandler(javassist.util.proxy.MethodHandler)">setHandler</a></strong>(<a href="../../../javassist/util/proxy/MethodHandler.html" title="interface in javassist.util.proxy">MethodHandler</a>&nbsp;mi)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>since 3.12
 use of this method is incompatible  with proxy class caching.
 instead clients should call method <a href="../../../javassist/util/proxy/Proxy.html#setHandler(javassist.util.proxy.MethodHandler)"><code>Proxy.setHandler(MethodHandler)</code></a> to set the handler
 for each newly created  proxy instance.
 calling this method will automatically disable caching of classes created by the proxy factory.</i></div>
</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javassist/util/proxy/ProxyFactory.html#setInterfaces(java.lang.Class[])">setInterfaces</a></strong>(java.lang.Class[]&nbsp;ifs)</code>
<div class="block">Sets the interfaces of a proxy class.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javassist/util/proxy/ProxyFactory.html#setSuperclass(java.lang.Class)">setSuperclass</a></strong>(java.lang.Class&nbsp;clazz)</code>
<div class="block">Sets the super class of a proxy class.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javassist/util/proxy/ProxyFactory.html#setUseCache(boolean)">setUseCache</a></strong>(boolean&nbsp;useCache)</code>
<div class="block">configure whether this factory should use the proxy cache</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javassist/util/proxy/ProxyFactory.html#setUseWriteReplace(boolean)">setUseWriteReplace</a></strong>(boolean&nbsp;useWriteReplace)</code>
<div class="block">configure whether this factory should add a writeReplace method to created classes</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="writeDirectory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeDirectory</h4>
<pre>public&nbsp;java.lang.String writeDirectory</pre>
<div class="block">If the value of this variable is not null, the class file of
 the generated proxy class is written under the directory specified
 by this variable.  For example, if the value is 
 <code>"."</code>, then the class file is written under the current
 directory.  This method is for debugging.

 <p>The default value is null.</div>
</li>
</ul>
<a name="useCache">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>useCache</h4>
<pre>public static volatile&nbsp;boolean useCache</pre>
<div class="block">If true, a generated proxy class is cached and it will be reused
 when generating the proxy class with the same properties is requested.
 The default value is true.

 Note that this value merely specifies the initial setting employed by any newly created
 proxy factory. The factory setting may be overwritten by calling factory instance method
 <a href="../../../javassist/util/proxy/ProxyFactory.html#setUseCache(boolean)"><code>setUseCache(boolean)</code></a></div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>3.4</dd></dl>
</li>
</ul>
<a name="useWriteReplace">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>useWriteReplace</h4>
<pre>public static volatile&nbsp;boolean useWriteReplace</pre>
<div class="block">If true, a generated proxy class will implement method writeReplace enabling
 serialization of its proxies to a conventional ObjectOutputStream. this (default)
 setting retains the old javassist behaviour which has the advantage that it
 retains compatibility with older  releases and requires no extra work on the part
 of the client performing the serialization. However, it has the disadvantage that
 state inherited from the superclasses of the proxy is lost during serialization.
 if false then serialization/deserialization of the proxy instances will preserve
 all fields. However, serialization must be performed via a <a href="../../../javassist/util/proxy/ProxyObjectOutputStream.html" title="class in javassist.util.proxy"><code>ProxyObjectOutputStream</code></a>
 and deserialization must be via <a href="../../../javassist/util/proxy/ProxyObjectInputStream.html" title="class in javassist.util.proxy"><code>ProxyObjectInputStream</code></a>. Any attempt to serialize
 proxies whose class was created with useWriteReplace set to false via a normal
 <code>ObjectOutputStream</code> will fail.

 Note that this value merely specifies the initial setting employed by any newly created
 proxy factory. The factory setting may be overwritten by calling factory instance method
 <a href="../../../javassist/util/proxy/ProxyFactory.html#setUseWriteReplace(boolean)"><code>setUseWriteReplace(boolean)</code></a></div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>3.4</dd></dl>
</li>
</ul>
<a name="classLoaderProvider">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>classLoaderProvider</h4>
<pre>public static&nbsp;<a href="../../../javassist/util/proxy/ProxyFactory.ClassLoaderProvider.html" title="interface in javassist.util.proxy">ProxyFactory.ClassLoaderProvider</a> classLoaderProvider</pre>
<div class="block">A provider used by <code>createClass()</code> for obtaining
 a class loader.
 <code>get()</code> on this <code>ClassLoaderProvider</code> object
 is called to obtain a class loader.

 <p>The value of this field can be updated for changing the default
 implementation.

 <p>Example:
 <ul><pre>
 ProxyFactory.classLoaderProvider = new ProxyFactory.ClassLoaderProvider() {
     public ClassLoader get(ProxyFactory pf) {
         return Thread.currentThread().getContextClassLoader();
     }
 };
 </pre></ul></div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>3.4</dd></dl>
</li>
</ul>
<a name="nameGenerator">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>nameGenerator</h4>
<pre>public static&nbsp;<a href="../../../javassist/util/proxy/ProxyFactory.UniqueName.html" title="interface in javassist.util.proxy">ProxyFactory.UniqueName</a> nameGenerator</pre>
<div class="block">A unique class name generator.
 Replacing this generator changes the algorithm to generate a
 unique name. The <code>get</code> method does not have to be
 a <code>synchronized</code> method since the access to this field
 is mutually exclusive and thus thread safe.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ProxyFactory()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ProxyFactory</h4>
<pre>public&nbsp;ProxyFactory()</pre>
<div class="block">Constructs a factory of proxy class.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="isUseCache()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isUseCache</h4>
<pre>public&nbsp;boolean&nbsp;isUseCache()</pre>
<div class="block">test whether this factory uses the proxy cache</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if this factory uses the proxy cache otherwise false</dd></dl>
</li>
</ul>
<a name="setUseCache(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUseCache</h4>
<pre>public&nbsp;void&nbsp;setUseCache(boolean&nbsp;useCache)</pre>
<div class="block">configure whether this factory should use the proxy cache</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>useCache</code> - true if this factory should use the proxy cache and false if it should not use the cache</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.RuntimeException</code> - if a default interceptor has been set for the factory</dd></dl>
</li>
</ul>
<a name="isUseWriteReplace()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isUseWriteReplace</h4>
<pre>public&nbsp;boolean&nbsp;isUseWriteReplace()</pre>
<div class="block">test whether this factory installs a writeReplace method in created classes</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if this factory installs a writeReplace method in created classes otherwise false</dd></dl>
</li>
</ul>
<a name="setUseWriteReplace(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUseWriteReplace</h4>
<pre>public&nbsp;void&nbsp;setUseWriteReplace(boolean&nbsp;useWriteReplace)</pre>
<div class="block">configure whether this factory should add a writeReplace method to created classes</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>useWriteReplace</code> - true if this factory should add a writeReplace method to created classes and false if it
 should not add a writeReplace method</dd></dl>
</li>
</ul>
<a name="isProxyClass(java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isProxyClass</h4>
<pre>public static&nbsp;boolean&nbsp;isProxyClass(java.lang.Class&nbsp;cl)</pre>
<div class="block">determine if a class is a javassist proxy class</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cl</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the class is a javassist proxy class otherwise false</dd></dl>
</li>
</ul>
<a name="setSuperclass(java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSuperclass</h4>
<pre>public&nbsp;void&nbsp;setSuperclass(java.lang.Class&nbsp;clazz)</pre>
<div class="block">Sets the super class of a proxy class.</div>
</li>
</ul>
<a name="getSuperclass()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSuperclass</h4>
<pre>public&nbsp;java.lang.Class&nbsp;getSuperclass()</pre>
<div class="block">Obtains the super class set by <code>setSuperclass()</code>.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>3.4</dd></dl>
</li>
</ul>
<a name="setInterfaces(java.lang.Class[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setInterfaces</h4>
<pre>public&nbsp;void&nbsp;setInterfaces(java.lang.Class[]&nbsp;ifs)</pre>
<div class="block">Sets the interfaces of a proxy class.</div>
</li>
</ul>
<a name="getInterfaces()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInterfaces</h4>
<pre>public&nbsp;java.lang.Class[]&nbsp;getInterfaces()</pre>
<div class="block">Obtains the interfaces set by <code>setInterfaces</code>.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>3.4</dd></dl>
</li>
</ul>
<a name="setFilter(javassist.util.proxy.MethodFilter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFilter</h4>
<pre>public&nbsp;void&nbsp;setFilter(<a href="../../../javassist/util/proxy/MethodFilter.html" title="interface in javassist.util.proxy">MethodFilter</a>&nbsp;mf)</pre>
<div class="block">Sets a filter that selects the methods that will be controlled by a handler.</div>
</li>
</ul>
<a name="createClass()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createClass</h4>
<pre>public&nbsp;java.lang.Class&nbsp;createClass()</pre>
<div class="block">Generates a proxy class using the current filter.</div>
</li>
</ul>
<a name="createClass(javassist.util.proxy.MethodFilter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createClass</h4>
<pre>public&nbsp;java.lang.Class&nbsp;createClass(<a href="../../../javassist/util/proxy/MethodFilter.html" title="interface in javassist.util.proxy">MethodFilter</a>&nbsp;filter)</pre>
<div class="block">Generates a proxy class using the supplied filter.</div>
</li>
</ul>
<a name="getKey(java.lang.Class, java.lang.Class[], byte[], boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKey</h4>
<pre>public&nbsp;java.lang.String&nbsp;getKey(java.lang.Class&nbsp;superClass,
                      java.lang.Class[]&nbsp;interfaces,
                      byte[]&nbsp;signature,
                      boolean&nbsp;useWriteReplace)</pre>
</li>
</ul>
<a name="getHandler(javassist.util.proxy.Proxy)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHandler</h4>
<pre>public static&nbsp;<a href="../../../javassist/util/proxy/MethodHandler.html" title="interface in javassist.util.proxy">MethodHandler</a>&nbsp;getHandler(<a href="../../../javassist/util/proxy/Proxy.html" title="interface in javassist.util.proxy">Proxy</a>&nbsp;p)</pre>
<div class="block">Obtains the method handler of the given proxy object.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>p</code> - a proxy object.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the method handler.</dd><dt><span class="strong">Since:</span></dt>
  <dd>3.16</dd></dl>
</li>
</ul>
<a name="create(java.lang.Class[], java.lang.Object[], javassist.util.proxy.MethodHandler)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre>public&nbsp;java.lang.Object&nbsp;create(java.lang.Class[]&nbsp;paramTypes,
                      java.lang.Object[]&nbsp;args,
                      <a href="../../../javassist/util/proxy/MethodHandler.html" title="interface in javassist.util.proxy">MethodHandler</a>&nbsp;mh)
                        throws java.lang.NoSuchMethodException,
                               java.lang.IllegalArgumentException,
                               java.lang.InstantiationException,
                               java.lang.IllegalAccessException,
                               java.lang.reflect.InvocationTargetException</pre>
<div class="block">Creates a proxy class and returns an instance of that class.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>paramTypes</code> - parameter types for a constructor.</dd><dd><code>args</code> - arguments passed to a constructor.</dd><dd><code>mh</code> - the method handler for the proxy class.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.NoSuchMethodException</code></dd>
<dd><code>java.lang.IllegalArgumentException</code></dd>
<dd><code>java.lang.InstantiationException</code></dd>
<dd><code>java.lang.IllegalAccessException</code></dd>
<dd><code>java.lang.reflect.InvocationTargetException</code></dd><dt><span class="strong">Since:</span></dt>
  <dd>3.4</dd></dl>
</li>
</ul>
<a name="create(java.lang.Class[], java.lang.Object[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre>public&nbsp;java.lang.Object&nbsp;create(java.lang.Class[]&nbsp;paramTypes,
                      java.lang.Object[]&nbsp;args)
                        throws java.lang.NoSuchMethodException,
                               java.lang.IllegalArgumentException,
                               java.lang.InstantiationException,
                               java.lang.IllegalAccessException,
                               java.lang.reflect.InvocationTargetException</pre>
<div class="block">Creates a proxy class and returns an instance of that class.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>paramTypes</code> - parameter types for a constructor.</dd><dd><code>args</code> - arguments passed to a constructor.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.NoSuchMethodException</code></dd>
<dd><code>java.lang.IllegalArgumentException</code></dd>
<dd><code>java.lang.InstantiationException</code></dd>
<dd><code>java.lang.IllegalAccessException</code></dd>
<dd><code>java.lang.reflect.InvocationTargetException</code></dd></dl>
</li>
</ul>
<a name="setHandler(javassist.util.proxy.MethodHandler)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setHandler</h4>
<pre>public&nbsp;void&nbsp;setHandler(<a href="../../../javassist/util/proxy/MethodHandler.html" title="interface in javassist.util.proxy">MethodHandler</a>&nbsp;mi)</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>since 3.12
 use of this method is incompatible  with proxy class caching.
 instead clients should call method <a href="../../../javassist/util/proxy/Proxy.html#setHandler(javassist.util.proxy.MethodHandler)"><code>Proxy.setHandler(MethodHandler)</code></a> to set the handler
 for each newly created  proxy instance.
 calling this method will automatically disable caching of classes created by the proxy factory.</i></div>
<div class="block">Sets the default invocation handler.  This invocation handler is shared
 among all the instances of a proxy class unless another is explicitly
 specified.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ProxyFactory.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../javassist/util/proxy/Proxy.html" title="interface in javassist.util.proxy"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../javassist/util/proxy/ProxyFactory.ClassLoaderProvider.html" title="interface in javassist.util.proxy"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?javassist/util/proxy/ProxyFactory.html" target="_top">Frames</a></li>
<li><a href="ProxyFactory.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><i>Javassist, a Java-bytecode translator toolkit.<br>
Copyright (C) 1999- Shigeru Chiba. All Rights Reserved.</i></small></p>
</body>
</html>
